#!/bin/bash
set -e -o pipefail

fields=()
for file in user pass; do
	[[ ! -e "$file" ]] || fields+=( "$(cat "$file")" )
done
[[ ${#fields[@]} -gt 0 ]]

for i in ${!fields[@]}; do
	[[ $i == 0 ]] || split-browser-cmd helper xdotool key Tab
	split-browser-cmd helper xdotool type "${fields[i]}"
done

split-browser-cmd helper xdotool key Return
